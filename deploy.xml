<?xml version="1.0" encoding="UTF-8"?>
<deploydescriptor>
	<global>
		<id>enhancedretrieval</id>
		<title>Enhanced Retrieval extension</title>
		<version>1.6.0</version>
		<vendor>ontoprise GmbH</vendor>
		<maintainer>ontoprise GmbH</maintainer>
		<license>GPL-v2</license>
		<instdir>extensions/EnhancedRetrieval</instdir>
		<description>
			The Enhanced Retrieval extension provides the fastest and most precise search engine for MediaWiki based on a SOLR server. The search covers full text contents as well as all elements from the ontology (categories, properties,instances). Search results can be refined stepwise by facets ("Faceted Search").
		</description>
		<helpurl>http://smwforum.ontoprise.com/smwforum/index.php/Help:Enhanced_Retrieval_Extension
		</helpurl>
		<dependencies>
            <depencency from="1.6.0">smwhalo</depencency>
		</dependencies>
	</global>

	<codefiles>
		<file loc="deploy.xml" />
	</codefiles>

	<wikidumps>
		<!-- empty -->
	</wikidumps>

	<resources>
		<!-- empty -->
	</resources>

	<configs>
		<new>
			<variable name="wgSearchType">
				<string name="wgSearchType" description="Search engine type">LuceneSearch</string>
			</variable>
			<variable name="wgLuceneHost">
				<string name="wgLuceneHost" description="Host">localhost</string>
			</variable>
			<variable name="wgLucenePort">
				<string name="wgLucenePort" description="Port">8123</string>
			</variable>
			<variable name="wgLuceneSearchVersion">
				<string name="wgLuceneSearchVersion" description="Version">2.1</string>
			</variable>
			<variable name="wgLuceneSearchTimeout">
				<string name="wgLuceneSearchTimeout" description="HTTP-Timeout in s">5</string>
			</variable>

			<require name="us_init"
				file="extensions/EnhancedRetrieval/includes/EnhancedRetrieval.php" />
			<script file="maintenance/setup.php" params="" />
		</new>
		<update from="1.3.6">
		    <replace>
		      <search>extensions/UnifiedSearch/OAI/OAIRepo.php</search>
		      <replacement>extensions/EnhancedRetrieval/OAI/OAIRepo.php</replacement>
		    </replace>
			<replace>
              <search>extensions/UnifiedSearch/includes/UnifiedSearch.php</search>
              <replacement>extensions/EnhancedRetrieval/includes/EnhancedRetrieval.php</replacement>
            </replace>
		</update>
		<uninstall>
			<script file="maintenance/setup.php" params="--delete" />
		</uninstall>
	</configs>
</deploydescriptor>

